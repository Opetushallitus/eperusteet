<button ng-hide="editEnabled || !versiot.latest" ng-click="muokkaa()" class="pull-right btn btn-default"><span class="glyphicon glyphicon-pencil"></span>{{'muokkaa' | translate}}</button>
<a class="iconlink" href="" ui-sref="perusteprojekti.suoritustapa.tutkinnonosat"><span class="glyphicon glyphicon-chevron-left"></span>{{'tutkinnonosat' | translate}}</a>
<pikamenu ng-if="tutkinnonOsa.$resolved">
  <span ng-if="editEnabled" edit-in-place="editableTutkinnonOsa.nimi"></span>
  <span ng-if="!editEnabled">{{tutkinnonOsa.nimi | kaanna:true}}<span class="osan-laajuus" ng-if="suoritustapa !== 'naytto' && rakenne.tutkinnonOsat[tutkinnonOsa.id] && rakenne.tutkinnonOsat[tutkinnonOsa.id].laajuus">
      {{rakenne.tutkinnonOsat[tutkinnonOsa.id].laajuus}} {{rakenne.tutkinnonOsat[tutkinnonOsa.id].yksikko || '' | kaanna}}
    </span>
  </span>
  <button ng-if="editEnabled" class="btn btn-danger" ng-click="poistaTutkinnonOsa(rakenne.tutkinnonOsat[tutkinnonOsa.id].id)">
    <span class="glyphicon glyphicon-remove"></span>{{'poista' | translate}}
  </button>
</pikamenu>

<versiotiedot ng-hide="editEnabled"></versiotiedot>

<form name="tutkinnonOsaHeaderForm" role="form">
  <div ng-if="editEnabled && suoritustapa !== 'naytto'" class="stack">
    <span>{{viiteosa.yksikko | kaanna}}</span>
    <label>{{'tutkinnonosa-laajuus' | kaanna}}</label>
    <numberinput name="laajuus" my-model="viiteosa.laajuus" min="0" max="999" form="tutkinnonOsaHeaderForm"></numberinput>
  </div>
</form>
<div class="stack" ng-if="editEnabled">
  <koodisto-select valmis="tuoKoodi"></koodisto-select>
  <label>{{'muokkaus-tutkinnon-osan-koodi-header' | kaanna}}</label>
  <input type="text" ng-model="editableTutkinnonOsa.koodiUri" editointi-kontrolli>
</div>
<div ng-if="!editEnabled">
  <label>{{'muokkaus-tutkinnon-osan-koodi-header' | kaanna}}:</label><span> {{tutkinnonOsa.koodiUri || 'ei asetettu' | kaanna}}</span>
</div>


<kenttalistaus edit-enabled="editEnabled" object-promise="tutkinnonOsaPromise" fields="fields"></kenttalistaus>

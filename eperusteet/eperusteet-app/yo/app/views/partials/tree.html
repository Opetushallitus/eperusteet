<div>
  <!-- <div ng-if="lisataanUuttaOsaa"> -->
  <!--   <muokkaus-tutkinnonosa tutkinnon-osa="uusiOsa"></muokkaus-tutkinnonosa> -->
  <!-- </div> -->
  <div class="muodostumisvivut">
    <a href="" ng-click="suljePolut()">
      <span ng-show="suljettuViimeksi" class="glyphicon glyphicon-chevron-down"></span>
      <span ng-hide="suljettuViimeksi" class="glyphicon glyphicon-chevron-up"></span>
      {{ 'avaa-ja-sulje' | kaanna }}
    </a>
  </div>
  <div class="tree-presentation">
    <div ng-if="!lisataanUuttaOsaa" class="tree col-lg-6 col-md-8 col-xs-12">
      <tree apumuuttujat="apumuuttujat" muokkaus="muokkaus" ng-if="rakenne.$resolved" rakenne="rakenne.rakenne" tutkinnon-osat="rakenne.tutkinnonOsat" uusi-tutkinnon-osa="uusiTutkinnonOsa"></tree>
    </div>
    <div ng-if="muokkaus" class="skratchpadlist col-lg-4 col-md-4 col-xs-12 pull-right">
      <!-- <div class="skratchpad-header"> -->
      <!-- </div> -->
      <div class="skratchpad-items">
        <div ng-if="skratchpad.length === 0" class="skratchpad-help">
          <span>{{ 'Raahaa puun osia tähän...' | kaanna }}</span>
        </div>
        <ul ui-sortable="sortableOptions" class="tree-group skratchpad" ng-model="skratchpad">
          <li class="skratchpad-item" ng-class="{ 'skratchpad-item-virhe': osa.$virhe }" ng-repeat="osa in skratchpad">
            <div ng-if="osa._tutkinnonOsa">{{ rakenne.tutkinnonOsat[osa._tutkinnonOsa].nimi | kaanna }}</div>
            <div ng-if="osa.osat !== undefined">
              <span>
                {{osa.nimi|kaanna}} ({{ osa.osat.length }} osaa)
              </span>
            </div>
          </li>
        </ul>
      </div>
      <div><a href="" ng-click="ryhmaModaali(rakenne.$suoritustapa)"><span class="glyphicon glyphicon-plus-sign"></span> {{ 'luo-uusi-ryhma' | kaanna }}</a></div>
      <hr>
      <div class="skratchpad-items">
        <ul ui-sortable="sortableOptionsUnique" ng-model="uniikit">
          <li class="skratchpad-item" ng-repeat="osa in uniikit"><div>{{ rakenne.tutkinnonOsat[osa._tutkinnonOsa].nimi | kaanna }}</div></li>
        </ul>
      </div>
    </div>
  </div>
</div>

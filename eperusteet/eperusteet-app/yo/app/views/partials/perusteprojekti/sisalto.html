<!--
Copyright (c) 2013 The Finnish Board of Education - Opetushallitus

This program is free software: Licensed under the EUPL, Version 1.1 or - as
soon as they will be approved by the European Commission - subsequent versions
of the EUPL (the "Licence");

You may not use this work except in compliance with the Licence.
You may obtain a copy of the Licence at: http://ec.europa.eu/idabc/eupl

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
European Union Public Licence for more details.
-->
<div class="main-content" id="main">
    <div class="row tutkinto-sisalto">

        <div ng-show="peruste.suoritustavat.length > 1 && !muokkausTutkintokohtaisetOsat">
            <ul style="margin-bottom: 5px" class="nav nav-tabs nav-justified">
                <li ng-class="{ active: valittuSuoritustapa === st.suoritustapakoodi }" ng-repeat="st in peruste.suoritustavat | orderBy:'suoritustapakoodi'"
                    ng-click="vaihdaSuoritustapa(st.suoritustapakoodi)">
                    <a class="action-link suoritustapa">{{ st.suoritustapakoodi | kaanna }}</a>
                </li>
            </ul>
        </div>
        <div class="tutkinto">
            <div ng-hide="muokkausTutkintokohtaisetOsat">
                <div class="toolbar-input">
                    <rajaus model="rajaus" placeholder="etsi-sisallosta" callback="rajaaSisaltoa(value)"></rajaus>
                </div>
            </div>

            <div class="clearfix"></div>

            <div style="margin-bottom: 40px" ng-hide="muokkausTutkintokohtaisetOsat || peruste.koulutustyyppi === 'koulutustyyppi_9999'">
                <h2 ng-show="naytaTutkinnonOsat || naytaRakenne">Tutkinnon muodostuminen</h2>
                <div ng-show="naytaTutkinnonOsat" class="sisalto-list-element striped">
                  <a class="otsikko" ui-sref="root.perusteprojekti.suoritustapa.tutkinnonosat">
                    <h3 kaanna>tutkinnonosat</h3>
                  </a>
                </div>
                <div ng-show="naytaRakenne" class="sisalto-list-element striped">
                  <a class="otsikko" ui-sref="root.perusteprojekti.suoritustapa.muodostumissaannot({ versio: '' })">
                    <h3 kaanna>tutkinnon-rakenne</h3>
                    <div class="list-element-info">
                        <!-- TODO oikea aikaleima/muokkaaja, myös tutkinnon osat -laatikkoon -->
                      <div>{{ 'muokattu-viimeksi' | kaanna }}: {{ 1 | aikaleima }}</div>
                    </div>
                  </a>
                </div>
            </div>

            <h2 ng-hide="muokkausTutkintokohtaisetOsat">
                {{ 'tekstikappaleet' | kaanna }} ({{ peruste.sisalto.lapset.length }})
                <a style="margin-left: 10px" ng-click="avaaSuljeKaikki()" class="action-link"><span class="avaa-sulje"><img src="images/expander.png" alt="">{{ 'avaa-sulje-kaikki' | kaanna }}</span></a>
                <div class="pull-right buttons">
                    <button type="button" class="btn btn-default btn-sm" ng-click="tuoSisalto()" ng-show="valittuSuoritustapa !== ''" icon-role="cloud-download" kaanna="tuo-tutkintokohtainen-osa"></button>
                    <button type="button" class="btn btn-default btn-sm" ng-click="createSisalto()" ng-show="valittuSuoritustapa !== ''" icon-role="add" kaanna="lisaa-tutkintokohtainen-osa"></button>
                    <button class="btn btn-default btn-sm"
                            ng-class="{ 'btn-primary': muokkausTutkintokohtaisetOsat }" ng-click="aloitaMuokkaus()"
                            ng-show="valittuSuoritustapa !== ''" icon-role="edit" kaanna="muokkaa-rakennetta">
                    </button>
                </div>
            </h2>
            <div ng-show="muokkausTutkintokohtaisetOsat" class="rakenteen-muokkaus">
                <h2 kaanna>Muokkaa tekstikappaleiden rakennetta</h2>
                <a ng-click="avaaSuljeKaikki(peruste.sisalto)" class="action-link"><span class="avaa-sulje"><img src="images/expander.png" alt="">{{ 'avaa-sulje-kaikki' | kaanna }}</span></a>
            </div>
            <div class="clearfix"></div>
            <div ng-include="'views/partials/perusteprojekti/sisaltoOsa.html'"></div>
            <div class="info-box" ng-show="peruste.sisalto.lapset.length === 0">
                {{ 'suoritustavalle-ei-ole-vielä-sisältöä' | kaanna }}.
            </div>
        </div>
    </div>
</div>

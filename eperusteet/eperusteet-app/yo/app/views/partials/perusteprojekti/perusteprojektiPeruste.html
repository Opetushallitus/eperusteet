<!DOCTYPE html>
<!--
Copyright (c) 2013 The Finnish Board of Education - Opetushallitus

This program is free software: Licensed under the EUPL, Version 1.1 or - as
soon as they will be approved by the European Commission - subsequent versions
of the EUPL (the "Licence");

You may not use this work except in compliance with the Licence.
You may obtain a copy of the Licence at: http://ec.europa.eu/idabc/eupl

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
European Union Public Licence for more details.
-->
<h1 translate>projekti-peruste</h1>
<div class="download-pdf">
  <button class="btn btn-default" ng-click="generoiPdf()" icon-role="file">{{ 'generoi-pdf' | kaanna }}</button>
  <button class="btn btn-default" ng-click="lataaPdf()" icon-role="download">{{ 'lataa-pdf' | kaanna }}</button>
</div>
<div class="clearfix"></div>
<form class="form-horizontal" name="perusteForm" role="form" novalidate>
  <div ng-form="projektinPerusteForm">
    <div class="form-group">
      <label for="perusteenNimi" class="col-sm-3" translate>perusteen-nimi</label>
      <div class="col-sm-9">
        <ml-input ml-data="peruste.nimi"></ml-input>
      </div>
    </div>

    <div class="form-group">
      <label for="perusteenTiivistelma" class="col-sm-3" translate>tiivistelm√§</label>
      <div class="col-sm-9">
        <ml-input ml-data="peruste.kuvaus"></ml-input>
      </div>
    </div>

    <div class="form-group">
      <label for="voimaantulopvm" class="col-sm-3" translate>voimaantulo-pvm</label>
      <div class="col-sm-9">
        <div class="input-group">
          <input type="text" id="voimaantulopvm" name="voimaantulopvm" class="form-control" datepicker-popup="{{format}}" ng-model="peruste.voimassaoloAlkaa"
                 placeholder="{{'anna-voimaantulo-pvm' | translate}}" is-open="voimaantuloPvmOpen " datepicker-options="dateOptions"
                 show-button-bar="false">
          <span class="input-group-btn">
            <button id="paatosPvmButton" class="btn btn-default" ng-click="open('voimaantuloPvmOpen', $event)" icon-role="calendar"></button>
          </span>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="paattymispvm" class="col-sm-3" translate>voimassaolo-paattymispvm</label>
      <div class="col-sm-9">
        <div class="input-group">
          <input type="text" id="paattymispvm" name="paattymispvm" class="form-control" datepicker-popup="{{format}}" ng-model="peruste.voimassaoloLoppuu"
                 placeholder="{{'anna-voimaantulo-loppu-pvm' | translate}}" is-open="voimaantuloLoppuuPvmOpen " datepicker-options="dateOptions"
                 show-button-bar="false" dateformatvalidator>
          <span class="input-group-btn">
            <button id="paatosPvmButton" class="btn btn-default" ng-click="open('voimaantuloLoppuuPvmOpen', $event)" icon-role="calendar"></button>
          </span>
        </div>
      </div>
    </div>

    <h3>{{'peruste-koulutukset' | kaanna}}</h3>
    <table class="table table-condensed table-striped" ng-show="peruste.koulutukset.length > 0">
      <thead>
        <tr>
          <th translate>koulutuksen-nimi</th><th translate>perusteen-koodi</th><th translate>haku-koulutusala</th><th translate>haku-opintoala</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="koulutus in peruste.koulutukset">
          <td>{{koulutus.nimi| kaanna}}</td>
          <td>{{koulutus.koulutuskoodi}}</td>
          <td>{{koulutusalaNimi(koulutus.koulutusalakoodi).nimi | kaanna}}</td>
          <td>{{opintoalaNimi(koulutus.opintoalakoodi).nimi | kaanna}}</td>
        </tr>
      </tbody>
    </table>
    <div>
      <button class="btn btn-default" type="button" ng-click="avaaKoodistoModaali()" ng-disabled="hakemassa">{{ "lisaa-koulutus" | kaanna }}</button>
    </div>
  </div>
  <div class="projekti-form-buttons">
    <button type="submit" ng-click="tallennaPeruste()" id="submit" class="btn btn-primary" ng-disabled="projektinPerusteForm.$invalid || hakemassa"  translate>tallenna</button>
    <button ui-sref="perusteprojekti.suoritustapa.sisalto({ perusteProjektiId: projektiId, suoritustapa: suoritustapa })" id="cancel" class="btn" translate>peruuta</button>
  </div>
</form>


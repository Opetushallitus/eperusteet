<!DOCTYPE html>
<!--
Copyright (c) 2013 The Finnish Board of Education - Opetushallitus

This program is free software: Licensed under the EUPL, Version 1.1 or - as
soon as they will be approved by the European Commission - subsequent versions
of the EUPL (the "Licence");

You may not use this work except in compliance with the Licence.
You may obtain a copy of the Licence at: http://ec.europa.eu/idabc/eupl

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
European Union Public Licence for more details.
-->
<h1 translate>projekti-peruste</h1>
<form class="form-horizontal" name="perusteForm" role="form" novalidate>
    <div ng-form="projektinPerusteForm">
        <div class="form-group">
            <label for="perusteenNimi" class="col-sm-3" translate>perusteen-nimi</label>
            <div class="col-sm-9">
                <!--input type="text" class="form-control" id="perusteenNimi" ng-model="nimi"  placeholder="{{'anna-perusteen-nimi'| translate}}"-->
                <ml-input ml-data="peruste.nimi"></ml-input>
            </div>
        </div>

        <div ng-show="peruste.koulutukset.length > 0">
            <h3>{{'peruste-koulutukset' | kaanna}}</h3>

            <div ng-repeat="koulutus in peruste.koulutukset">
                <div class="osio-otsikko" ng-click="open[koulutus.koulutuskoodi] = !open[koulutus.koulutuskoodi]">
                    <span class="glyphicon" ng-class="{'glyphicon-chevron-down': !open[koulutus.koulutuskoodi], 'glyphicon-chevron-up': open[koulutus.koulutuskoodi]}"></span>
                    <span>{{koulutus.nimi| kaanna}}</span>
                </div>
                <div collapse="!open[koulutus.koulutuskoodi]" class="form-area koulutukset">
                    <div class="form-group">
                        <label for="koulutuksenNimi" class="col-sm-3" translate>koulutuksen-nimi</label>
                        <div class="col-sm-9">
                            {{koulutus.nimi| kaanna}}
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="tutkinnonKoodi" class="col-sm-3" translate>perusteen-koodi</label>
                        <div class="col-sm-9">
                            {{koulutus.koulutuskoodi}}
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="koulutusala" class="col-sm-3" translate>haku-koulutusala</label>
                        <div class="col-sm-9">
                            {{koulutusalaNimi(koulutus.koulutusalakoodi).nimi | kaanna}}
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="opintoala" class="col-sm-3" translate>haku-opintoala</label>
                        <div class="col-sm-9">      
                            {{opintoalaNimi(koulutus.opintoalakoodi).nimi | kaanna}}
                        </div>
                    </div>
                    <button class="btn" ng-click="poistaKoulutus(koulutus.koulutuskoodi)" translate>poista-koulutus</button>
                </div>
            </div>
        </div>
        <div>
            <button class="btn btn-default" type="button" ng-click="avaaKoodistoModaali()" ng-disabled="hakemassa">{{ "lisaa-koulutus" | kaanna }}</button>
        </div>
    </div>
    <div class="projekti-form-buttons">
        <button type="submit" ng-click="tallennaPeruste()" id="submit" class="btn btn-primary" ng-disabled="projektinPerusteForm.$invalid || hakemassa"  translate>tallenna</button>
        <button ui-sref="perusteprojekti.suoritustapa.sisalto({ perusteProjektiId: projektiId })" id="cancel" class="btn" translate>peruuta</button>
    </div>
</form>


<!--
Copyright (c) 2013 The Finnish Board of Education - Opetushallitus

This program is free software: Licensed under the EUPL, Version 1.1 or - as
soon as they will be approved by the European Commission - subsequent versions
of the EUPL (the "Licence");

You may not use this work except in compliance with the Licence.
You may obtain a copy of the Licence at: http://ec.europa.eu/idabc/eupl

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
European Union Public Licence for more details.
-->

<div ng-class="{'ryhma-jasen': !muokkausMoodi}">
  <div ng-if="voiMuokata" class="ryhma-jasen-muokkausnappi" ng-click="muokkaaJasenta(jasen, ryhma)" title="{{'muokkaa' | kaanna}}" icon-role="edit"></div>
  <div class="ryhma-jasen-avatar">
    <div ng-show="!jasen.kuva" class="nimikirjain-avatar"
         ng-style="styleFor(jasen)">{{$parent.kayttajaToiminnot.nimikirjaimet(jasen.nimi)}}</div>
    <!-- TODO kuva? -->
  </div>
  <div ng-if="!muokkausMoodi" class="ryhma-jasen-tiedot">
    <h4>{{jasen.nimi}}</h4>
    <p>{{'puhelin' | kaanna}}: {{jasen.puhelinnumero}}</p>
    <p>{{'email' | kaanna}}: <span ng-bind-html="jasen.email | linky"></span></p>
  </div>
  <div ng-if="muokkausMoodi" class="clearfix"></div>
  <form ng-if="muokkausMoodi" class="ryhma-jasen-muokkaus form-horizontal" role="form">
    <div class="form-group" ng-repeat="tieto in ['nimi', 'puhelinnumero', 'email']">
      <label class="col-sm-4 control-label" ng-for="jasen-{{tieto}}">{{'jasen-' + tieto | kaanna}}</label>
      <div class="col-sm-8">
        <input class="form-control" ng-id="jasen-{{tieto}}" ng-model="jasen[tieto]"/>
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-4 control-label" for="jasen-rooli" kaanna>jasen-rooli</label>
      <div class="col-sm-8">
        <select class="form-control" ng-id="jasen-rooli" ng-model="jasen.rooli"
                ng-options="'rooli-' + r | kaanna for r in ['omistaja', 'sihteeri', 'jasen', 'kommentoija']">
        </select>
      </div>
    </div>
  </form>
</div>

<div>
  <div class="page-header">
      <h1>{{'tutkinnon-rakenne' | translate}}</h1>
  </div>
  <div id="otsikkotiedot">
      <h2>{{'tutkinnonosa' | translate}}</h2>
      <span class="revisio" ng-show="revisio !== null">rev: {{revisio.number}} {{revisio.date | date:'d.M.yyyy klo H:mm:ss'}}</span>
      <span class="tutkinnon-osa-koodi">{{ tutkinnonOsa.koodiUri | koodisto }}</span>
      <div class="pull-right dropdown">
        <button class="btn btn-default btn-sm" ng-click="siirryMuokkaustilaan()">{{'muokkaus' | translate}}</button>
        <button class="btn btn-default btn-sm dropdown-toggle" ng-click="haeRevisiot()">Versiohistoria</button>
        <ul class="dropdown-menu">
          <li ng-repeat="revisio in revisiotiedot | orderBy:'-date'">
            <a ng-click="getRevision(revisio)">{{revisio.date | date:'d.M.yyyy klo. H:mm:ss'}}</a>
          </li>
        </ul>
      </div>
      <table>
          <tr><th>{{'tutkinnonosa-nimi' | translate}}</th><td>{{tutkinnonOsa.nimi | kaanna}}</td></tr>
          <tr><th>{{'tutkinnonosa-laajuus' | translate}}</th><td><!-- TODO: laajuus? --></td></tr>
      </table>
  </div>

  <div id="tutkinnon-osa-tiedot">
    <div ng-repeat="osio in [
          'tavoitteet',
          'ammattitaitovaatimukset',
          'arviointi',
          'ammattitaidonOsoittamistavat',
          'osaamisala'
    ]" ng-show="tutkinnonOsa[osio]">
      <div class="osio-otsikko" ng-click="nakyvilla[osio] = !nakyvilla[osio]">
          <span class="glyphicon" ng-class="{'glyphicon-chevron-right': !nakyvilla[osio], 'glyphicon-chevron-down': nakyvilla[osio]}"></span>
          <span>{{'tutkinnonosa-'+osio | translate}}</span>
      </div>

      <div collapse="!nakyvilla[osio]" ng-switch on="osio">
        <div ng-switch-default class="well well-sm pelkka-teksti" ng-bind-html="tutkinnonOsa[osio] | kaanna"></div>
        <arviointi ng-switch-when="arviointi" arviointi="tutkinnonOsa.arviointi"></arviointi>
      </div>
    </div>
  </div>
</div>
